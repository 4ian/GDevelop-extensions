{
  "author": "Tristan Rhodes (https://victrisgames.itch.io/) and @Entropy",
  "description": "Select the primary object, the shadow clone object, the number of shadow clones, the number of frames between shadow clones, the rate that shadow clones will fade away (if desired), the Z-value of the shadow clones, and the layer the shadow clones will be created on.\n\nThis extension can be used to:\n\n- Make an object look faster, such as during a speed powerup.  \n- Give a 3D-like feel to a character\n- Implement unique time-based elements, like teleporting a character back to a previous location\n- Simulate the movement of a caterpillar or slinky\n- Recreate games like snake or tron\n\nThese object variables are provided to manage the shadow clones:\n\n- ShadowCloneOrder: Shadow clone identifier, where 1 is the shadow clone closest to the primary object\n- FramesBehindPrimary: The number of frames that the shadow clone is behind the primary object\n- ShadowCloneGroupID: Shared identifier for the shadow clones that were created (Optional)\n\nNotes: \n- For shadow clones to work, this action must be run every frame.\n- The ShadowCloneObject cannot be the PrimaryObject, but it can be a duplicate object. \n- For animations to work, the PrimaryObject and ShadowCloneObject must use the same animation numbers.",
  "extensionNamespace": "",
  "fullName": "Animate Shadow Clones",
  "helpPath": "",
  "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXZlY3Rvci1hcnJhbmdlLWFib3ZlIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTMsMUMxLjg5LDEgMSwxLjg5IDEsM1YxNEMxLDE1LjExIDEuODksMTYgMywxNkM2LjY3LDE2IDEwLjMzLDE2IDE0LDE2QzE1LjExLDE2IDE2LDE1LjExIDE2LDE0QzE2LDEwLjMzIDE2LDYuNjcgMTYsM0MxNiwxLjg5IDE1LjExLDEgMTQsMUgzTTMsM0gxNFYxNEgzVjNNMTgsN1Y5SDIwVjIwSDlWMThIN1YyMEM3LDIxLjExIDcuODksMjIgOSwyMkgyMEMyMS4xMSwyMiAyMiwyMS4xMSAyMiwyMFY5QzIyLDcuODkgMjEuMTEsNyAyMCw3SDE4WiIgLz48L3N2Zz4=",
  "name": "ShadowClones",
  "previewIconUrl": "https://resources.gdevelop-app.com/assets/Icons/vector-arrange-above.svg",
  "shortDescription": "Animate shadow clones that follow the path of a primary object.",
  "version": "0.3.4",
  "tags": [
    "animate",
    "create",
    "object",
    "shadow",
    "clone",
    "follow",
    "echo"
  ],
  "eventsFunctions": [
    {
      "description": "Select the primary object, the shadow clone object, the number of shadow clones, the number of frames between shadow clones, the rate that shadow clones will fade away (if desired), the Z-value of the shadow clones, and the layer the shadow clones will be created on.",
      "fullName": "Animate shadow clones that follow the path of a primary object",
      "functionType": "Action",
      "name": "AnimateShadowClones",
      "private": false,
      "sentence": "Create _PARAM3_ copies of _PARAM2_ that follow the position of _PARAM1_, with _PARAM4_ empty frames between shadows, and fading the opacity of ShadowObject by _PARAM5_ per clone.  ShadowObjects will be created on _PARAM6_ layer, with a Z-value of _PARAM8_ and an identifier of _PARAM7_.",
      "events": [
        {
          "colorB": 228,
          "colorG": 176,
          "colorR": 74,
          "creationTime": 0,
          "disabled": false,
          "folded": false,
          "name": "Animate Shadow Clones",
          "source": "",
          "type": "BuiltinCommonInstructions::Group",
          "events": [
            {
              "disabled": false,
              "folded": false,
              "type": "BuiltinCommonInstructions::ForEach",
              "object": "PrimaryObject",
              "conditions": [],
              "actions": [],
              "events": [
                {
                  "colorB": 228,
                  "colorG": 176,
                  "colorR": 74,
                  "creationTime": 0,
                  "disabled": false,
                  "folded": false,
                  "name": "Manage Shadows",
                  "source": "",
                  "type": "BuiltinCommonInstructions::Group",
                  "events": [
                    {
                      "disabled": false,
                      "folded": false,
                      "type": "BuiltinCommonInstructions::Comment",
                      "color": {
                        "b": 109,
                        "g": 230,
                        "r": 255,
                        "textB": 0,
                        "textG": 0,
                        "textR": 0
                      },
                      "comment": "Detect if distance between shadows has been set and then changed",
                      "comment2": ""
                    },
                    {
                      "disabled": false,
                      "folded": false,
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "inverted": true,
                            "value": "VarObjet"
                          },
                          "parameters": [
                            "PrimaryObject",
                            "TotalShadowClones",
                            "=",
                            "0"
                          ],
                          "subInstructions": []
                        },
                        {
                          "type": {
                            "inverted": true,
                            "value": "VarObjet"
                          },
                          "parameters": [
                            "PrimaryObject",
                            "TotalShadowClones",
                            "=",
                            "GetArgumentAsNumber(\"NumberOfShadowClones\")"
                          ],
                          "subInstructions": []
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "inverted": false,
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "PrimaryObject",
                            "FrameCounter",
                            "=",
                            "0"
                          ],
                          "subInstructions": []
                        }
                      ],
                      "events": []
                    },
                    {
                      "disabled": false,
                      "folded": false,
                      "type": "BuiltinCommonInstructions::Comment",
                      "color": {
                        "b": 109,
                        "g": 230,
                        "r": 255,
                        "textB": 0,
                        "textG": 0,
                        "textR": 0
                      },
                      "comment": "Read input variables",
                      "comment2": ""
                    },
                    {
                      "disabled": false,
                      "folded": false,
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "inverted": false,
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "PrimaryObject",
                            "TotalShadowClones",
                            "=",
                            "GetArgumentAsNumber(\"NumberOfShadowClones\")"
                          ],
                          "subInstructions": []
                        },
                        {
                          "type": {
                            "inverted": false,
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "PrimaryObject",
                            "FramesBetweenShadowClones",
                            "=",
                            "GetArgumentAsNumber(\"FramesBetweenShadowClones\")"
                          ],
                          "subInstructions": []
                        }
                      ],
                      "events": [
                        {
                          "disabled": false,
                          "folded": false,
                          "type": "BuiltinCommonInstructions::Comment",
                          "color": {
                            "b": 109,
                            "g": 230,
                            "r": 255,
                            "textB": 0,
                            "textG": 0,
                            "textR": 0
                          },
                          "comment": "Fix default value (min=1)",
                          "comment2": ""
                        },
                        {
                          "disabled": false,
                          "folded": false,
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "inverted": false,
                                "value": "VarObjet"
                              },
                              "parameters": [
                                "PrimaryObject",
                                "FramesBetweenShadowClones",
                                "<",
                                "1"
                              ],
                              "subInstructions": []
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "inverted": false,
                                "value": "ModVarObjet"
                              },
                              "parameters": [
                                "PrimaryObject",
                                "FramesBetweenShadowClones",
                                "=",
                                "1"
                              ],
                              "subInstructions": []
                            }
                          ],
                          "events": []
                        },
                        {
                          "disabled": false,
                          "folded": false,
                          "type": "BuiltinCommonInstructions::Comment",
                          "color": {
                            "b": 109,
                            "g": 230,
                            "r": 255,
                            "textB": 0,
                            "textG": 0,
                            "textR": 0
                          },
                          "comment": "Calculate the max frames behind the primary that a shadow will exist",
                          "comment2": ""
                        },
                        {
                          "disabled": false,
                          "folded": false,
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "inverted": false,
                                "value": "ModVarObjet"
                              },
                              "parameters": [
                                "PrimaryObject",
                                "MaxFramesBehind",
                                "=",
                                "PrimaryObject.Variable(TotalShadowClones)*PrimaryObject.Variable(FramesBetweenShadowClones)"
                              ],
                              "subInstructions": []
                            }
                          ],
                          "events": []
                        }
                      ]
                    },
                    {
                      "disabled": false,
                      "folded": false,
                      "type": "BuiltinCommonInstructions::Comment",
                      "color": {
                        "b": 109,
                        "g": 230,
                        "r": 255,
                        "textB": 0,
                        "textG": 0,
                        "textR": 0
                      },
                      "comment": "Create the right number of shadows",
                      "comment2": ""
                    },
                    {
                      "disabled": false,
                      "folded": false,
                      "infiniteLoopWarning": true,
                      "type": "BuiltinCommonInstructions::While",
                      "whileConditions": [
                        {
                          "type": {
                            "inverted": false,
                            "value": "VarObjet"
                          },
                          "parameters": [
                            "PrimaryObject",
                            "FrameCounter",
                            "<",
                            "PrimaryObject.Variable(MaxFramesBehind)"
                          ],
                          "subInstructions": []
                        }
                      ],
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "inverted": false,
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "PrimaryObject",
                            "FrameCounter",
                            "+",
                            "1"
                          ],
                          "subInstructions": []
                        }
                      ],
                      "events": [
                        {
                          "disabled": false,
                          "folded": false,
                          "type": "BuiltinCommonInstructions::Comment",
                          "color": {
                            "b": 109,
                            "g": 230,
                            "r": 255,
                            "textB": 0,
                            "textG": 0,
                            "textR": 0
                          },
                          "comment": "Create shadows at proper intervals and change opacity of shadow objects",
                          "comment2": ""
                        },
                        {
                          "disabled": false,
                          "folded": false,
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "inverted": false,
                                "value": "Egal"
                              },
                              "parameters": [
                                "mod(PrimaryObject.Variable(FrameCounter),PrimaryObject.Variable(FramesBetweenShadowClones))",
                                "=",
                                "0"
                              ],
                              "subInstructions": []
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "inverted": false,
                                "value": "Create"
                              },
                              "parameters": [
                                "",
                                "ShadowCloneObject",
                                "PrimaryObject.X()",
                                "PrimaryObject.Y()",
                                "GetArgumentAsString(\"ShadowCloneLayer\")"
                              ],
                              "subInstructions": []
                            },
                            {
                              "type": {
                                "inverted": false,
                                "value": "ModVarObjet"
                              },
                              "parameters": [
                                "ShadowCloneObject",
                                "FramesBehindPrimary",
                                "=",
                                "PrimaryObject.Variable(FrameCounter)"
                              ],
                              "subInstructions": []
                            },
                            {
                              "type": {
                                "inverted": false,
                                "value": "ModVarObjet"
                              },
                              "parameters": [
                                "ShadowCloneObject",
                                "ShadowCloneOrder",
                                "=",
                                "PrimaryObject.Variable(FrameCounter)/PrimaryObject.Variable(FramesBetweenShadowClones)"
                              ],
                              "subInstructions": []
                            },
                            {
                              "type": {
                                "inverted": false,
                                "value": "ModVarObjetTxt"
                              },
                              "parameters": [
                                "ShadowCloneObject",
                                "ShadowCloneGroupID",
                                "=",
                                "GetArgumentAsString(\"ShadowCloneGroupID\")"
                              ],
                              "subInstructions": []
                            },
                            {
                              "type": {
                                "inverted": false,
                                "value": "ChangePlan"
                              },
                              "parameters": [
                                "ShadowCloneObject",
                                "=",
                                "GetArgumentAsNumber(\"ShadowCloneZValue\")"
                              ],
                              "subInstructions": []
                            },
                            {
                              "type": {
                                "inverted": false,
                                "value": "LinkedObjects::LinkObjects"
                              },
                              "parameters": [
                                "",
                                "PrimaryObject",
                                "ShadowCloneObject"
                              ],
                              "subInstructions": []
                            }
                          ],
                          "events": [
                            {
                              "disabled": false,
                              "folded": false,
                              "type": "BuiltinCommonInstructions::Comment",
                              "color": {
                                "b": 109,
                                "g": 230,
                                "r": 255,
                                "textB": 0,
                                "textG": 0,
                                "textR": 0
                              },
                              "comment": "Copy current state of PrimaryObject",
                              "comment2": ""
                            },
                            {
                              "disabled": false,
                              "folded": false,
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [],
                              "actions": [
                                {
                                  "type": {
                                    "inverted": false,
                                    "value": "SetAngle"
                                  },
                                  "parameters": [
                                    "ShadowCloneObject",
                                    "=",
                                    "PrimaryObject.Angle()"
                                  ],
                                  "subInstructions": []
                                }
                              ],
                              "events": []
                            },
                            {
                              "disabled": false,
                              "folded": false,
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [],
                              "actions": [
                                {
                                  "type": {
                                    "inverted": false,
                                    "value": "ChangeScaleWidth"
                                  },
                                  "parameters": [
                                    "ShadowCloneObject",
                                    "=",
                                    "PrimaryObject.ScaleX()"
                                  ],
                                  "subInstructions": []
                                }
                              ],
                              "events": []
                            },
                            {
                              "disabled": false,
                              "folded": false,
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [],
                              "actions": [
                                {
                                  "type": {
                                    "inverted": false,
                                    "value": "ChangeScaleHeight"
                                  },
                                  "parameters": [
                                    "ShadowCloneObject",
                                    "=",
                                    "PrimaryObject.ScaleY()"
                                  ],
                                  "subInstructions": []
                                }
                              ],
                              "events": []
                            },
                            {
                              "disabled": false,
                              "folded": false,
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [],
                              "actions": [
                                {
                                  "type": {
                                    "inverted": false,
                                    "value": "ChangeWidth"
                                  },
                                  "parameters": [
                                    "ShadowCloneObject",
                                    "=",
                                    "PrimaryObject.Width()"
                                  ],
                                  "subInstructions": []
                                }
                              ],
                              "events": []
                            },
                            {
                              "disabled": false,
                              "folded": false,
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [],
                              "actions": [
                                {
                                  "type": {
                                    "inverted": false,
                                    "value": "ChangeHeight"
                                  },
                                  "parameters": [
                                    "ShadowCloneObject",
                                    "=",
                                    "PrimaryObject.Height()"
                                  ],
                                  "subInstructions": []
                                }
                              ],
                              "events": []
                            },
                            {
                              "disabled": false,
                              "folded": false,
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [],
                              "actions": [],
                              "events": []
                            },
                            {
                              "disabled": false,
                              "folded": false,
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [],
                              "actions": [
                                {
                                  "type": {
                                    "inverted": false,
                                    "value": "ChangeAnimation"
                                  },
                                  "parameters": [
                                    "ShadowCloneObject",
                                    "=",
                                    "PrimaryObject.Animation()"
                                  ],
                                  "subInstructions": []
                                },
                                {
                                  "type": {
                                    "inverted": false,
                                    "value": "ChangeSprite"
                                  },
                                  "parameters": [
                                    "ShadowCloneObject",
                                    "=",
                                    "PrimaryObject.Sprite()"
                                  ],
                                  "subInstructions": []
                                },
                                {
                                  "type": {
                                    "inverted": false,
                                    "value": "PauseAnimation"
                                  },
                                  "parameters": [
                                    "ShadowCloneObject"
                                  ],
                                  "subInstructions": []
                                }
                              ],
                              "events": []
                            },
                            {
                              "disabled": false,
                              "folded": false,
                              "type": "BuiltinCommonInstructions::Comment",
                              "color": {
                                "b": 109,
                                "g": 230,
                                "r": 255,
                                "textB": 0,
                                "textG": 0,
                                "textR": 0
                              },
                              "comment": "Set fade",
                              "comment2": ""
                            },
                            {
                              "disabled": false,
                              "folded": false,
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [],
                              "actions": [
                                {
                                  "type": {
                                    "inverted": false,
                                    "value": "Opacity"
                                  },
                                  "parameters": [
                                    "ShadowCloneObject",
                                    "=",
                                    "255-GetArgumentAsNumber(\"FadeSpeed\")*ShadowCloneObject.Variable(ShadowCloneOrder)"
                                  ],
                                  "subInstructions": []
                                }
                              ],
                              "events": []
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "disabled": false,
                      "folded": false,
                      "type": "BuiltinCommonInstructions::Comment",
                      "color": {
                        "b": 109,
                        "g": 230,
                        "r": 255,
                        "textB": 0,
                        "textG": 0,
                        "textR": 0
                      },
                      "comment": "Move shadow clones ",
                      "comment2": ""
                    },
                    {
                      "disabled": false,
                      "folded": false,
                      "type": "BuiltinCommonInstructions::ForEach",
                      "object": "ShadowCloneObject",
                      "conditions": [
                        {
                          "type": {
                            "inverted": false,
                            "value": "VarObjetTxt"
                          },
                          "parameters": [
                            "ShadowCloneObject",
                            "ShadowCloneGroupID",
                            "=",
                            "GetArgumentAsString(\"ShadowCloneGroupID\")"
                          ],
                          "subInstructions": []
                        },
                        {
                          "type": {
                            "inverted": false,
                            "value": "LinkedObjects::PickObjectsLinkedTo"
                          },
                          "parameters": [
                            "",
                            "PrimaryObject",
                            "ShadowCloneObject"
                          ],
                          "subInstructions": []
                        }
                      ],
                      "actions": [],
                      "events": [
                        {
                          "disabled": false,
                          "folded": false,
                          "type": "BuiltinCommonInstructions::Comment",
                          "color": {
                            "b": 109,
                            "g": 230,
                            "r": 255,
                            "textB": 0,
                            "textG": 0,
                            "textR": 0
                          },
                          "comment": "Only change shadow clones when there is position data",
                          "comment2": ""
                        },
                        {
                          "disabled": false,
                          "folded": false,
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "inverted": false,
                                "value": "ObjectVariableChildExists"
                              },
                              "parameters": [
                                "PrimaryObject",
                                "ObjectHistory",
                                "ToString(ShadowCloneObject.Variable(FramesBehindPrimary))"
                              ],
                              "subInstructions": []
                            },
                            {
                              "type": {
                                "inverted": false,
                                "value": "BuiltinCommonInstructions::Or"
                              },
                              "parameters": [],
                              "subInstructions": [
                                {
                                  "type": {
                                    "inverted": true,
                                    "value": "VarObjet"
                                  },
                                  "parameters": [
                                    "PrimaryObject",
                                    "ObjectHistory[ToString(ShadowCloneObject.Variable(FramesBehindPrimary))].xpos",
                                    "=",
                                    "0"
                                  ],
                                  "subInstructions": []
                                },
                                {
                                  "type": {
                                    "inverted": true,
                                    "value": "VarObjet"
                                  },
                                  "parameters": [
                                    "PrimaryObject",
                                    "ObjectHistory[ToString(ShadowCloneObject.Variable(FramesBehindPrimary))].ypos",
                                    "=",
                                    "0"
                                  ],
                                  "subInstructions": []
                                }
                              ]
                            }
                          ],
                          "actions": [],
                          "events": [
                            {
                              "disabled": false,
                              "folded": false,
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [],
                              "actions": [
                                {
                                  "type": {
                                    "inverted": false,
                                    "value": "MettreXY"
                                  },
                                  "parameters": [
                                    "ShadowCloneObject",
                                    "=",
                                    "PrimaryObject.Variable(ObjectHistory[ToString(ShadowCloneObject.Variable(FramesBehindPrimary))].xpos)",
                                    "=",
                                    "PrimaryObject.Variable(ObjectHistory[ToString(ShadowCloneObject.Variable(FramesBehindPrimary))].ypos)"
                                  ],
                                  "subInstructions": []
                                }
                              ],
                              "events": []
                            },
                            {
                              "disabled": false,
                              "folded": false,
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [],
                              "actions": [
                                {
                                  "type": {
                                    "inverted": false,
                                    "value": "SetAngle"
                                  },
                                  "parameters": [
                                    "ShadowCloneObject",
                                    "=",
                                    "PrimaryObject.Variable(ObjectHistory[ToString(ShadowCloneObject.Variable(FramesBehindPrimary))].angle)"
                                  ],
                                  "subInstructions": []
                                }
                              ],
                              "events": []
                            },
                            {
                              "disabled": false,
                              "folded": false,
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [],
                              "actions": [
                                {
                                  "type": {
                                    "inverted": false,
                                    "value": "ChangeScaleWidth"
                                  },
                                  "parameters": [
                                    "ShadowCloneObject",
                                    "=",
                                    "PrimaryObject.Variable(ObjectHistory[ToString(ShadowCloneObject.Variable(FramesBehindPrimary))].xscale)"
                                  ],
                                  "subInstructions": []
                                }
                              ],
                              "events": []
                            },
                            {
                              "disabled": false,
                              "folded": false,
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [],
                              "actions": [
                                {
                                  "type": {
                                    "inverted": false,
                                    "value": "ChangeScaleHeight"
                                  },
                                  "parameters": [
                                    "ShadowCloneObject",
                                    "=",
                                    "PrimaryObject.Variable(ObjectHistory[ToString(ShadowCloneObject.Variable(FramesBehindPrimary))].yscale)"
                                  ],
                                  "subInstructions": []
                                }
                              ],
                              "events": []
                            },
                            {
                              "disabled": false,
                              "folded": false,
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [],
                              "actions": [
                                {
                                  "type": {
                                    "inverted": false,
                                    "value": "ChangeWidth"
                                  },
                                  "parameters": [
                                    "ShadowCloneObject",
                                    "=",
                                    "PrimaryObject.Variable(ObjectHistory[ToString(ShadowCloneObject.Variable(FramesBehindPrimary))].width)"
                                  ],
                                  "subInstructions": []
                                }
                              ],
                              "events": []
                            },
                            {
                              "disabled": false,
                              "folded": false,
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [],
                              "actions": [
                                {
                                  "type": {
                                    "inverted": false,
                                    "value": "ChangeHeight"
                                  },
                                  "parameters": [
                                    "ShadowCloneObject",
                                    "=",
                                    "PrimaryObject.Variable(ObjectHistory[ToString(ShadowCloneObject.Variable(FramesBehindPrimary))].height)"
                                  ],
                                  "subInstructions": []
                                }
                              ],
                              "events": []
                            },
                            {
                              "disabled": false,
                              "folded": false,
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [],
                              "actions": [
                                {
                                  "type": {
                                    "inverted": false,
                                    "value": "ChangeAnimation"
                                  },
                                  "parameters": [
                                    "ShadowCloneObject",
                                    "=",
                                    "PrimaryObject.Variable(ObjectHistory[ToString(ShadowCloneObject.Variable(FramesBehindPrimary))].animation)"
                                  ],
                                  "subInstructions": []
                                }
                              ],
                              "events": []
                            },
                            {
                              "disabled": false,
                              "folded": false,
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [],
                              "actions": [
                                {
                                  "type": {
                                    "inverted": false,
                                    "value": "ChangeSprite"
                                  },
                                  "parameters": [
                                    "ShadowCloneObject",
                                    "=",
                                    "PrimaryObject.Variable(ObjectHistory[ToString(ShadowCloneObject.Variable(FramesBehindPrimary))].frame)"
                                  ],
                                  "subInstructions": []
                                }
                              ],
                              "events": []
                            }
                          ]
                        },
                        {
                          "disabled": false,
                          "folded": false,
                          "type": "BuiltinCommonInstructions::Comment",
                          "color": {
                            "b": 109,
                            "g": 230,
                            "r": 255,
                            "textB": 0,
                            "textG": 0,
                            "textR": 0
                          },
                          "comment": "Delete shadow clones if we have decreased number of shadow clones and reset counter variable",
                          "comment2": ""
                        },
                        {
                          "disabled": false,
                          "folded": false,
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "inverted": false,
                                "value": "VarObjet"
                              },
                              "parameters": [
                                "ShadowCloneObject",
                                "FramesBehindPrimary",
                                ">",
                                "PrimaryObject.Variable(MaxFramesBehind)"
                              ],
                              "subInstructions": []
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "inverted": false,
                                "value": "Delete"
                              },
                              "parameters": [
                                "ShadowCloneObject",
                                ""
                              ],
                              "subInstructions": []
                            },
                            {
                              "type": {
                                "inverted": false,
                                "value": "ModVarObjet"
                              },
                              "parameters": [
                                "PrimaryObject",
                                "FrameCounter",
                                "=",
                                "PrimaryObject.Variable(MaxFramesBehind)"
                              ],
                              "subInstructions": []
                            }
                          ],
                          "events": []
                        },
                        {
                          "disabled": false,
                          "folded": false,
                          "type": "BuiltinCommonInstructions::Comment",
                          "color": {
                            "b": 109,
                            "g": 230,
                            "r": 255,
                            "textB": 0,
                            "textG": 0,
                            "textR": 0
                          },
                          "comment": "Change opacity of shadow clone",
                          "comment2": ""
                        },
                        {
                          "disabled": false,
                          "folded": false,
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "inverted": false,
                                "value": "Opacity"
                              },
                              "parameters": [
                                "ShadowCloneObject",
                                "=",
                                "255-GetArgumentAsNumber(\"FadeSpeed\")*ShadowCloneObject.Variable(ShadowCloneOrder)"
                              ],
                              "subInstructions": []
                            }
                          ],
                          "events": []
                        }
                      ]
                    }
                  ],
                  "parameters": []
                },
                {
                  "colorB": 228,
                  "colorG": 176,
                  "colorR": 74,
                  "creationTime": 0,
                  "disabled": false,
                  "folded": false,
                  "name": "Update PrimaryObject history",
                  "source": "",
                  "type": "BuiltinCommonInstructions::Group",
                  "events": [
                    {
                      "disabled": false,
                      "folded": false,
                      "type": "BuiltinCommonInstructions::Comment",
                      "color": {
                        "b": 109,
                        "g": 230,
                        "r": 255,
                        "textB": 0,
                        "textG": 0,
                        "textR": 0
                      },
                      "comment": "Clean-up unused history",
                      "comment2": ""
                    },
                    {
                      "disabled": false,
                      "folded": false,
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "inverted": false,
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "PrimaryObject",
                            "j",
                            "=",
                            "PrimaryObject.Variable(MaxFramesBehind)"
                          ],
                          "subInstructions": []
                        }
                      ],
                      "events": []
                    },
                    {
                      "disabled": false,
                      "folded": false,
                      "infiniteLoopWarning": true,
                      "type": "BuiltinCommonInstructions::While",
                      "whileConditions": [
                        {
                          "type": {
                            "inverted": false,
                            "value": "ObjectVariableChildExists"
                          },
                          "parameters": [
                            "PrimaryObject",
                            "ObjectHistory",
                            "ToString(PrimaryObject.Variable(j)+1)"
                          ],
                          "subInstructions": []
                        }
                      ],
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "inverted": false,
                            "value": "ObjectVariableRemoveChild"
                          },
                          "parameters": [
                            "PrimaryObject",
                            "ObjectHistory",
                            "ToString(PrimaryObject.Variable(j)+1)"
                          ],
                          "subInstructions": []
                        },
                        {
                          "type": {
                            "inverted": false,
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "PrimaryObject",
                            "j",
                            "+",
                            "1"
                          ],
                          "subInstructions": []
                        }
                      ],
                      "events": []
                    },
                    {
                      "disabled": false,
                      "folded": false,
                      "type": "BuiltinCommonInstructions::Comment",
                      "color": {
                        "b": 109,
                        "g": 230,
                        "r": 255,
                        "textB": 0,
                        "textG": 0,
                        "textR": 0
                      },
                      "comment": "Reset temp variable for iterating through child objects",
                      "comment2": ""
                    },
                    {
                      "disabled": false,
                      "folded": false,
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "inverted": false,
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "PrimaryObject",
                            "i",
                            "=",
                            "PrimaryObject.Variable(MaxFramesBehind)"
                          ],
                          "subInstructions": []
                        }
                      ],
                      "events": []
                    },
                    {
                      "disabled": false,
                      "folded": false,
                      "type": "BuiltinCommonInstructions::Comment",
                      "color": {
                        "b": 109,
                        "g": 230,
                        "r": 255,
                        "textB": 0,
                        "textG": 0,
                        "textR": 0
                      },
                      "comment": "Move position history to the next higher index, starting from the highest number (FramesBehind-1)",
                      "comment2": ""
                    },
                    {
                      "disabled": false,
                      "folded": false,
                      "infiniteLoopWarning": true,
                      "type": "BuiltinCommonInstructions::While",
                      "whileConditions": [
                        {
                          "type": {
                            "inverted": false,
                            "value": "VarObjet"
                          },
                          "parameters": [
                            "PrimaryObject",
                            "i",
                            ">",
                            "1"
                          ],
                          "subInstructions": []
                        }
                      ],
                      "conditions": [],
                      "actions": [],
                      "events": [
                        {
                          "disabled": false,
                          "folded": false,
                          "type": "BuiltinCommonInstructions::Comment",
                          "color": {
                            "b": 109,
                            "g": 230,
                            "r": 255,
                            "textB": 0,
                            "textG": 0,
                            "textR": 0
                          },
                          "comment": "Move object history to one higher frame",
                          "comment2": ""
                        },
                        {
                          "disabled": false,
                          "folded": false,
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "inverted": false,
                                "value": "ModVarObjet"
                              },
                              "parameters": [
                                "PrimaryObject",
                                "ObjectHistory[ToString(PrimaryObject.Variable(i))].xpos",
                                "=",
                                "PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(i)-1)].xpos)"
                              ],
                              "subInstructions": []
                            },
                            {
                              "type": {
                                "inverted": false,
                                "value": "ModVarObjet"
                              },
                              "parameters": [
                                "PrimaryObject",
                                "ObjectHistory[ToString(PrimaryObject.Variable(i))].ypos",
                                "=",
                                "PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(i)-1)].ypos)"
                              ],
                              "subInstructions": []
                            },
                            {
                              "type": {
                                "inverted": false,
                                "value": "ModVarObjet"
                              },
                              "parameters": [
                                "PrimaryObject",
                                "ObjectHistory[ToString(PrimaryObject.Variable(i))].angle",
                                "=",
                                "PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(i)-1)].angle)"
                              ],
                              "subInstructions": []
                            },
                            {
                              "type": {
                                "inverted": false,
                                "value": "ModVarObjet"
                              },
                              "parameters": [
                                "PrimaryObject",
                                "ObjectHistory[ToString(PrimaryObject.Variable(i))].animation",
                                "=",
                                "PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(i)-1)].animation)"
                              ],
                              "subInstructions": []
                            },
                            {
                              "type": {
                                "inverted": false,
                                "value": "ModVarObjet"
                              },
                              "parameters": [
                                "PrimaryObject",
                                "ObjectHistory[ToString(PrimaryObject.Variable(i))].frame",
                                "=",
                                "PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(i)-1)].frame)"
                              ],
                              "subInstructions": []
                            },
                            {
                              "type": {
                                "inverted": false,
                                "value": "ModVarObjet"
                              },
                              "parameters": [
                                "PrimaryObject",
                                "ObjectHistory[ToString(PrimaryObject.Variable(i))].xscale",
                                "=",
                                "PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(i)-1)].xscale)"
                              ],
                              "subInstructions": []
                            },
                            {
                              "type": {
                                "inverted": false,
                                "value": "ModVarObjet"
                              },
                              "parameters": [
                                "PrimaryObject",
                                "ObjectHistory[ToString(PrimaryObject.Variable(i))].yscale",
                                "=",
                                "PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(i)-1)].yscale)"
                              ],
                              "subInstructions": []
                            },
                            {
                              "type": {
                                "inverted": false,
                                "value": "ModVarObjet"
                              },
                              "parameters": [
                                "PrimaryObject",
                                "ObjectHistory[ToString(PrimaryObject.Variable(i))].width",
                                "=",
                                "PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(i)-1)].width)"
                              ],
                              "subInstructions": []
                            },
                            {
                              "type": {
                                "inverted": false,
                                "value": "ModVarObjet"
                              },
                              "parameters": [
                                "PrimaryObject",
                                "ObjectHistory[ToString(PrimaryObject.Variable(i))].height",
                                "=",
                                "PrimaryObject.Variable(ObjectHistory[ToString(PrimaryObject.Variable(i)-1)].height)"
                              ],
                              "subInstructions": []
                            },
                            {
                              "type": {
                                "inverted": false,
                                "value": "ModVarObjet"
                              },
                              "parameters": [
                                "PrimaryObject",
                                "i",
                                "-",
                                "1"
                              ],
                              "subInstructions": []
                            }
                          ],
                          "events": []
                        }
                      ]
                    },
                    {
                      "disabled": false,
                      "folded": false,
                      "type": "BuiltinCommonInstructions::Comment",
                      "color": {
                        "b": 109,
                        "g": 230,
                        "r": 255,
                        "textB": 0,
                        "textG": 0,
                        "textR": 0
                      },
                      "comment": "Record new current position in index = 1",
                      "comment2": ""
                    },
                    {
                      "disabled": false,
                      "folded": false,
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "inverted": false,
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "PrimaryObject",
                            "ObjectHistory.1.xpos",
                            "=",
                            "PrimaryObject.X()"
                          ],
                          "subInstructions": []
                        },
                        {
                          "type": {
                            "inverted": false,
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "PrimaryObject",
                            "ObjectHistory.1.ypos",
                            "=",
                            "PrimaryObject.Y()"
                          ],
                          "subInstructions": []
                        },
                        {
                          "type": {
                            "inverted": false,
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "PrimaryObject",
                            "ObjectHistory.1.animation",
                            "=",
                            "PrimaryObject.Animation()"
                          ],
                          "subInstructions": []
                        },
                        {
                          "type": {
                            "inverted": false,
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "PrimaryObject",
                            "ObjectHistory.1.frame",
                            "=",
                            "PrimaryObject.Sprite()"
                          ],
                          "subInstructions": []
                        },
                        {
                          "type": {
                            "inverted": false,
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "PrimaryObject",
                            "ObjectHistory.1.angle",
                            "=",
                            "PrimaryObject.Angle()"
                          ],
                          "subInstructions": []
                        },
                        {
                          "type": {
                            "inverted": false,
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "PrimaryObject",
                            "ObjectHistory.1.xscale",
                            "=",
                            "PrimaryObject.ScaleX()"
                          ],
                          "subInstructions": []
                        },
                        {
                          "type": {
                            "inverted": false,
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "PrimaryObject",
                            "ObjectHistory.1.yscale",
                            "=",
                            "PrimaryObject.ScaleY()"
                          ],
                          "subInstructions": []
                        },
                        {
                          "type": {
                            "inverted": false,
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "PrimaryObject",
                            "ObjectHistory.1.width",
                            "=",
                            "PrimaryObject.Width()"
                          ],
                          "subInstructions": []
                        },
                        {
                          "type": {
                            "inverted": false,
                            "value": "ModVarObjet"
                          },
                          "parameters": [
                            "PrimaryObject",
                            "ObjectHistory.1.height",
                            "=",
                            "PrimaryObject.Height()"
                          ],
                          "subInstructions": []
                        }
                      ],
                      "events": []
                    }
                  ],
                  "parameters": []
                }
              ]
            }
          ],
          "parameters": []
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Shadows clones will follow this object",
          "longDescription": "",
          "name": "PrimaryObject",
          "optional": false,
          "supplementaryInformation": "Sprite",
          "type": "objectList"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Shadows clones will be made of this object (Cannot be the same object used for PrimaryObject)",
          "longDescription": "",
          "name": "ShadowCloneObject",
          "optional": false,
          "supplementaryInformation": "Sprite",
          "type": "objectList"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Number of shadow clones (Default: 1)",
          "longDescription": "",
          "name": "NumberOfShadowClones",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Number of empty frames between shadow clones (Default: 1)",
          "longDescription": "",
          "name": "FramesBetweenShadowClones",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Amount of increase in the opacity fading for each consecutive shadow clone (Default: 0)",
          "longDescription": "",
          "name": "FadeSpeed",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Shadow clones will be created on this layer. (Default: \"\") (Base Layer)",
          "longDescription": "",
          "name": "ShadowCloneLayer",
          "optional": false,
          "supplementaryInformation": "",
          "type": "layer"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Shared identifier for shadow clones that were created (Optional)",
          "longDescription": "",
          "name": "ShadowCloneGroupID",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Z value for created shadow clones",
          "longDescription": "",
          "name": "ShadowCloneZValue",
          "optional": false,
          "supplementaryInformation": "",
          "type": "expression"
        }
      ],
      "objectGroups": []
    },
    {
      "description": "Delete specified objects that have a matching ShadowCloneGroupID.  If no ShadowCloneGroupID is provided, all specified objects are deleted.",
      "fullName": "Delete shadow clone objects",
      "functionType": "Action",
      "name": "DeleteShadowClones",
      "private": false,
      "sentence": "Delete _PARAM1_ with ShadowCloneGroupID: _PARAM2_",
      "events": [
        {
          "disabled": false,
          "folded": false,
          "type": "BuiltinCommonInstructions::ForEach",
          "object": "ShadowCloneObject",
          "conditions": [
            {
              "type": {
                "inverted": false,
                "value": "VarObjetTxt"
              },
              "parameters": [
                "ShadowCloneObject",
                "ShadowCloneGroupID",
                "=",
                "GetArgumentAsString(\"ShadowCloneGroupID\")"
              ],
              "subInstructions": []
            }
          ],
          "actions": [
            {
              "type": {
                "inverted": false,
                "value": "Delete"
              },
              "parameters": [
                "ShadowCloneObject",
                ""
              ],
              "subInstructions": []
            }
          ],
          "events": []
        }
      ],
      "parameters": [
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "Shadow clone",
          "longDescription": "",
          "name": "ShadowCloneObject",
          "optional": false,
          "supplementaryInformation": "",
          "type": "objectList"
        },
        {
          "codeOnly": false,
          "defaultValue": "",
          "description": "ShadowCloneGroupID",
          "longDescription": "",
          "name": "ShadowCloneGroupID",
          "optional": false,
          "supplementaryInformation": "",
          "type": "string"
        }
      ],
      "objectGroups": []
    }
  ],
  "eventsBasedBehaviors": []
}